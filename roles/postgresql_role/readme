---
- name: Installer et configurer PostgreSQL avec un utilisateur dédié
  hosts: dbservers
  become: yes

  roles:
    - role: postgres_role
      vars:
        postgres_user_name: "deploy_user"
        postgres_user_password: "SecurePassw0rd!"
        postgres_listen_address: "0.0.0.0"
        postgres_port: 5432
# Ce rôle installe PostgreSQL, déploie une configuration adaptée, démarre
# le service et crée un utilisateur PostgreSQL avec mot de passe si défini.
# Il facilite la mise en place d’une base PostgreSQL prête à l’emploi.
