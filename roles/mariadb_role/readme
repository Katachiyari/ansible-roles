---
- name: Installer et configurer MariaDB avec utilisateur dédié
  hosts: dbservers
  become: yes

  roles:
    - role: mariadb_role
      vars:
        mariadb_root_password: "StrongRootPasswordHere!"
        mariadb_bind_address: "0.0.0.0"
        mariadb_port: 3306
        mariadb_user_name: "deploy_user"
        mariadb_user_password: "UserPasswordSecure123!"

# Ce rôle installe MariaDB, sécurise root, crée un utilisateur avec tous privilèges,
# configure MariaDB et démarre le service.
# Il permet de définir les mots de passe, l’adresse de liaison et le port du serveur MariaDB.