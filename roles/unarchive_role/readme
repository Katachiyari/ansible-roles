---
- name: Extraire une archive sur les serveurs cibles
  hosts: all
  become: yes

  roles:
    - role: unarchive_role
      vars:
        unarchive_src: "/tmp/archive.tar.gz"     # Chemin local ou distant selon remote_src
        unarchive_dest: "/opt/app/"
        unarchive_remote_src: true               # true si archive déjà présente sur cible
        unarchive_owner: "www-data"
        unarchive_group: "www-data"
        unarchive_mode: "0755"
        unarchive_delete_after: false
# Ce rôle déploie et extrait une archive dans un répertoire cible sur l’hôte distant.
# Il propose le contrôle de la propriété, des droits et supprime l’archive après usage si demandé.
