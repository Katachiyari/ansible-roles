---
- name: Modifier une ligne dans un fichier de configuration
  hosts: all
  become: yes

  roles:
    - role: lineinfile_role
      vars:
        lineinfile_path: "/etc/myapp/config.ini"
        lineinfile_regexp: "^max_connections"
        lineinfile_line: "max_connections=200"
        lineinfile_state: "present"
        lineinfile_insertafter: "EOF"

# Ce rôle insère, modifie ou supprime une ligne dans un fichier texte via expression régulière.
# Il permet de définir le chemin du fichier, la ligne à gérer, l’expression régulière de recherche,