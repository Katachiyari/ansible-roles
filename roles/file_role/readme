---
- name: Gérer divers types de fichiers sur les serveurs Debian
  hosts: all
  become: yes

  tasks:
    - name: Créer un répertoire
      include_role:
        name: file_manage
      vars:
        file_path: "/var/www/html"
        file_state: "directory"
        file_owner: "www-data"
        file_group: "www-data"
        file_mode: "0755"

    - name: Créer un fichier vide
      include_role:
        name: file_manage
      vars:
        file_path: "/tmp/testfile"
        file_state: "file"
        file_owner: "root"
        file_group: "root"
        file_mode: "0644"

    - name: Créer un lien symbolique
      include_role:
        name: file_manage
      vars:
        file_path: "/usr/local/bin/myapp"
        file_state: "link"
        file_src: "/opt/myapp/bin/myapp"
        file_owner: "root"
        file_group: "root"

    - name: Supprimer un fichier ou dossier
      include_role:
        name: file_manage
      vars:
        file_path: "/tmp/oldfile"
        file_state: "absent"
